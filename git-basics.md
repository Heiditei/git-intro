class: center, middle

# Introduction to Version control & Git with Unity 3D

### MP 10/2016

---

# Contents

- Why version control?
- Basic principles of Version Control System
- Git on command line
- Basic usage & workflow
- Remote hosting services: Github, bitbucket
- Links to Learning materials
- Exercises

---

# Why to use VCS

_(Version Control System, revision control)_

- Compulsory tool for professional software development
- Track code changes
- What is changed since last version and before?
  - Why, comments
  - When did that happen?
  - Who did that?
- Share project code (and development history) â€”> Collaborate
- Backup for code??

- Example: [check revisions][wiki1] of an [Wikipedia article][wiki2]

[wiki1]: https://en.wikipedia.org/w/index.php?title=Git_(software)&action=history
[wiki2]: https://en.wikipedia.org/wiki/Git_(software)
<!-- Normal links including parentheses break links when rendered with remark. -->

---

# Basic concepts

- **repository**: storage for all files and revision data
- **checkout**: choosing specified version of code or development branch to work with
- **clone**: taking a full copy of an existing repository
- **commit**: saving a new revision of code and naming it (= adding a message/description)
- **tag**: special label for a revision (e.g. Release v. 1.1)
- **branches**: parallel development versions of code
- **merge**: combining changes of different branches together
- **conflict**: occurs when there is different modifications in the same file while trying to merge branches
- **push**: upload your local changes to a remote repository
- **pull**: get changes from a remote repository

---

# Git

- Development started By Linus Torvalds 2005
- Created for Linux kernel development
- Distributed System
- Can be used locally -> remote server not mandatory

![arch image](images/git-arch.png)

---

# Git tools

- Command line git (works directly in linux/mac terminal)
- Windows: [Git for windows](https://msysgit.github.io/) provides command line tools (git bash) and Graphic UI tools/integration to Windows explorer
- Visual git client, Sourcetree: https://www.sourcetreeapp.com/
- Many IDEs have their own git integrations or plugins

---

# Git, basic usage/commands

- `git clone [url]`: clone an existing repository (creates a local copy of the repo)
- `git init`: create a new git repository
- `git add [filenames]`: choose files for the next commit (add to staging area)
- `git commit`: save a version of chosen files (needs a message)
- `git status`: check current status of the repo
- `git log`: show revision history
- `git branch [newBranchName]`: create a new branch based on current branch
- `git checkout [something]`: choose a branch or revision to work with
- `git push`: push the repository (new commits) to chosen remote repository
- `git pull`: pull the repository ( get new changes and commits) from remote repo
- `git diff`: shows the differences in files between working copy and the last commit

---

# Git Workflow (locally)

![Workflow graph](images/git-workflow.png)

[Source](http://git-scm.com/book/en/v2/Getting-Started-Git-Basics)

---

# Git Revisions

- Git stores snapshots of all edited files in commits

![Revisions illustration](images/git-revisions.png)

[Source](http://git-scm.com/book/en/v2/Getting-Started-Git-Basics)

---

# Git ignore

Which files and changes should be tracked? There is no point to track all IDE specific personal project settings or files that are always generated automatically by development enviroment. Only the files created and edited by development team (source code) should be included in version control.    

`.gitignore` file inside the root project folder is used to list files and folders to ignore.

[Example file](https://github.com/github/gitignore/blob/master/Unity.gitignore) for Unity 3D project (`#`-prefixed lines are comments):

```
/[Ll]ibrary/
/[Tt]emp/
/[Oo]bj/
/[Bb]uild/
/[Bb]uilds/
/Assets/AssetStoreTools*

# Autogenerated VS/MD/Consulo solution and project files
ExportedObj/
.consulo/
*.csproj
*.unityproj
*.sln
*.suo
*.tmp
*.user
*.userprefs
*.pidb
*.booproj
*.svd

# Unity3D generated meta files
*.pidb.meta

# Unity3D Generated File On Crash Reports
sysinfo.txt

# Builds
*.apk
*.unitypackage
```

---

# [Github](https://github.com)

- **Github != git**
- Github is a commercial service providing a git remote server (remote repository)
- In addition to git repository Github provides e.g. wiki, webpage hosting, bug tracker & statistics services for the project  
- **Fork**: Github function that makes a copy of an existing Github project for you
- Almost _de facto_ hosting service for Open Source projects
- Repositories (projects) are public by default, private repos are not free (except student accounts)

- [Bitbucket](https://bitbucket.org) is another popular git repo hosting service providing free private repos for small teams

---

# Git Workflow when using Github

## Simple (one developer at a time, no conflicts)

1. Pull (or clone) the newest version from remote repo
2. Develop, add, commit - develop, add, commit ...
3. Push local commits to remote repo

## Basic (parallel editing of same files produces conflicts)

1. Pull (or clone) the newest version from remote repo
2. Develop, add, commit - develop, add, commit ...
3. Push local commits to remote repo
4. Push gets rejected because a conflict occured
5. Pull newer version from remote repo
6. Solve conflicts, merge files, commit
7. Push again

## Advanced way (how it should be done)

Like the basic method above but create always a new branch for new features and after testing that it works _merge_ new feature to the `master` branch.

>There's only one rule: anything in the `master` branch is always deployable.

(https://guides.github.com/introduction/flow/)

---


# Learn Git

Take a look at:

- Free book: [Pro Git](http://git-scm.com/book/en/v2)
- Free Codecademy course: [Learn git](https://www.codecademy.com/learn/learn-git)
- Free Codeschool course: [Try Git](https://www.codeschool.com/courses/try-git)
- [Atlassian Git Tutorials](https://www.atlassian.com/git/tutorials/)
- Using Github like a pro: [GitHub Guides](https://guides.github.com/)

---

## Exercise 0: Complete short online courses

highly recommended short online courses about git command line usage at: https://www.codeschool.com/courses/try-git
and https://www.codecademy.com/learn/learn-git

(You need to create a free accounts to access the courses)

---
